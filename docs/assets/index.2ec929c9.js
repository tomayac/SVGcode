(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const l of i)if(l.type==="childList")for(const c of l.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&r(c)}).observe(document,{childList:!0,subtree:!0});function n(i){const l={};return i.integrity&&(l.integrity=i.integrity),i.referrerpolicy&&(l.referrerPolicy=i.referrerpolicy),i.crossorigin==="use-credentials"?l.credentials="include":i.crossorigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function r(i){if(i.ep)return;i.ep=!0;const l=n(i);fetch(i.href,l)}})();const ln="modulepreload",dn=function(e){return"/"+e},yt={},p=function(t,n,r){return!n||n.length===0?t():Promise.all(n.map(i=>{if(i=dn(i),i in yt)return;yt[i]=!0;const l=i.endsWith(".css"),c=l?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${i}"]${c}`))return;const o=document.createElement("link");if(o.rel=l?"stylesheet":ln,l||(o.as="script",o.crossOrigin=""),o.href=i,document.head.appendChild(o),l)return new Promise((s,a)=>{o.addEventListener("load",s),o.addEventListener("error",()=>a(new Error(`Unable to preload CSS for ${i}`)))})})).then(()=>t())},D=document.querySelector("canvas"),Gr=document.querySelector(".menu"),Yr=document.querySelector("main"),wt=document.querySelector(".details"),A=document.querySelector(".posterize"),un=document.querySelector("[for=posterize]"),k=document.querySelector(".color"),hn=document.querySelector("[for=color]"),I=document.querySelector(".monochrome"),pn=document.querySelector("[for=monochrome]"),V=document.querySelector(".consider-dpr"),mn=document.querySelector('[for="consider-dpr"]'),O=document.querySelector(".optimize-curves"),fn=document.querySelector('[for="optimize-curves"]'),X=document.querySelector(".show-advanced"),gn=document.querySelector('[for="show-advanced"]'),y=document.querySelector("img"),ut=document.querySelector(".reset-all"),Pe=document.querySelector(".open"),Ce=document.querySelector(".save"),Oe=document.querySelector(".copy"),Re=document.querySelector(".share"),Te=document.querySelector(".paste"),Ae=document.querySelector(".install"),b=document.querySelector(".svg-output"),fe=document.querySelector(".debug"),Ie=document.querySelector("progress"),ee=document.querySelector(".toast"),ct=document.querySelector("details.main"),qe=document.querySelector("summary"),Dt=document.querySelector(".close-options-button"),vn=document.querySelector(".license"),yn=document.querySelector(".about"),ae=document.querySelector("pinch-zoom"),Ve=document.querySelector(".language"),Ht=document.querySelector("dark-mode-toggle"),R=document.documentElement,wn=document.querySelector("meta[name=theme-color]"),te=window.devicePixelRatio;ae.addEventListener("change",()=>{const{x:e,y:t,scale:n}=ae;b.setAttribute("transform",`translate(${e}, ${t}) scale(${n})`)});ae.addEventListener("pointerdown",()=>{ae.style.cursor="grabbing"});ae.addEventListener("pointerup",()=>{ae.style.cursor=""});const Nt=()=>{b.setAttribute("transform","")},$e=(e,t)=>{let n;return function(...i){const l=()=>{clearTimeout(n),e(...i)};clearTimeout(n),n=setTimeout(l,t)}},Bt=/Mac|iPhone/.test(navigator.platform);/*!
 * canvas-size
 * v1.2.5
 * https://github.com/jhildenbiddle/canvas-size
 * (c) 2015-2021 John Hildenbiddle <http://hildenbiddle.com>
 * MIT license
 */function bt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function P(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?bt(Object(n),!0).forEach(function(r){bn(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):bt(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function bn(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function _n(e,t){if(e==null)return{};var n={},r=Object.keys(e),i,l;for(l=0;l<r.length;l++)i=r[l],!(t.indexOf(i)>=0)&&(n[i]=e[i]);return n}function Ln(e,t){if(e==null)return{};var n=_n(e,t),r,i;if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(i=0;i<l.length;i++)r=l[i],!(t.indexOf(r)>=0)&&(!Object.prototype.propertyIsEnumerable.call(e,r)||(n[r]=e[r]))}return n}function _t(e,t){return kn(e)||xn(e,t)||Ut(e,t)||Cn()}function be(e){return En(e)||Sn(e)||Ut(e)||Pn()}function En(e){if(Array.isArray(e))return lt(e)}function kn(e){if(Array.isArray(e))return e}function Sn(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function xn(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var r=[],i=!0,l=!1,c,o;try{for(n=n.call(e);!(i=(c=n.next()).done)&&(r.push(c.value),!(t&&r.length===t));i=!0);}catch(s){l=!0,o=s}finally{try{!i&&n.return!=null&&n.return()}finally{if(l)throw o}}return r}}function Ut(e,t){if(!!e){if(typeof e=="string")return lt(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return lt(e,t)}}function lt(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Pn(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Cn(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function ge(e){var t=e.sizes.shift(),n=Math.max(Math.ceil(t[0]),1),r=Math.max(Math.ceil(t[1]),1),i=[n-1,r-1,1,1],l=Date.now(),c=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope,o,s;c?(o=new OffscreenCanvas(1,1),s=new OffscreenCanvas(n,r)):(o=document.createElement("canvas"),o.width=1,o.height=1,s=document.createElement("canvas"),s.width=n,s.height=r);var a=o.getContext("2d"),d=s.getContext("2d");d&&(d.fillRect.apply(d,i),a.drawImage(s,n-1,r-1,1,1,0,0,1,1));var h=a&&a.getImageData(0,0,1,1).data[3]!==0,u=Date.now()-l;return c?(postMessage({width:n,height:r,benchmark:u,isTestPass:h}),!h&&e.sizes.length&&ge(e)):h?e.onSuccess(n,r,u):(e.onError(n,r,u),e.sizes.length&&ge(e)),h}var Fe={area:[16384,14188,11402,11180,10836,8192,4096,1],height:[8388607,65535,32767,16384,8192,4096,1],width:[4194303,65535,32767,16384,8192,4096,1]},On=["onError","onSuccess"],ne={max:null,min:1,sizes:[],step:1024,usePromise:!1,useWorker:!1,onError:Function.prototype,onSuccess:Function.prototype},ce={};function Ge(e){var t=e.width===e.height,n=e.height===1,r=e.width===1,i=[];if(!e.width||!e.height)e.sizes.forEach(function(d){var h=t||n?d:1,u=t||r?d:1;i.push([h,u])});else for(var l=e.min||ne.min,c=e.step||ne.step,o=Math.max(e.width,e.height);o>=l;){var s=t||n?o:1,a=t||r?o:1;i.push([s,a]),o-=c}return i}function _e(e){var t=window&&"HTMLCanvasElement"in window,n=window&&"OffscreenCanvas"in window,r=Date.now(),i=e.onError,l=e.onSuccess,c=Ln(e,On),o=null;if(!t)return!1;if(e.useWorker&&n){var s=`
            var canvasTest = `.concat(ge.toString(),`;
            onmessage = function(e) {
                canvasTest(e.data);
            };
        `),a=new Blob([s],{type:"application/javascript"}),d=URL.createObjectURL(a);o=new Worker(d),URL.revokeObjectURL(d),o.onmessage=function(h){var u=h.data,m=u.width,w=u.height,C=u.benchmark,q=u.isTestPass;q?(ce[r].onSuccess(m,w,C),delete ce[r]):ce[r].onError(m,w,C)}}if(e.usePromise)return new Promise(function(h,u){var m=P(P({},e),{},{onError:function(J,Z,se){var We;if(e.sizes.length===0)We=!0;else{var on=e.sizes.slice(-1),an=_t(on,1),vt=_t(an[0],2),sn=vt[0],cn=vt[1];We=J===sn&&Z===cn}i(J,Z,se),We&&u({width:J,height:Z,benchmark:se})},onSuccess:function(J,Z,se){l(J,Z,se),h({width:J,height:Z,benchmark:se})}});if(o){var w=m.onError,C=m.onSuccess;ce[r]={onError:w,onSuccess:C},o.postMessage(c)}else ge(m)});if(o)ce[r]={onError:i,onSuccess:l},o.postMessage(c);else return ge(e)}var Rn={maxArea:function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=Ge({width:t.max,height:t.max,min:t.min,step:t.step,sizes:be(Fe.area)}),r=P(P(P({},ne),t),{},{sizes:n});return _e(r)},maxHeight:function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=Ge({width:1,height:t.max,min:t.min,step:t.step,sizes:be(Fe.height)}),r=P(P(P({},ne),t),{},{sizes:n});return _e(r)},maxWidth:function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=Ge({width:t.max,height:1,min:t.min,step:t.step,sizes:be(Fe.width)}),r=P(P(P({},ne),t),{},{sizes:n});return _e(r)},test:function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=P(P({},ne),t);return n.sizes=be(n.sizes),n.width&&n.height&&(n.sizes=[[n.width,n.height]]),_e(n)}};let Wt,qt;const Ft="OffscreenCanvas"in window&&"CanvasFilter"in window;if(Ft)p(()=>import("./preprocessworker.c15347fd.js"),[]).then(e=>{const t=e.default;let n=null;const r=D.getContext("2d");Wt=async()=>{n&&n.terminate(),n=new t;const i=D.cloneNode().transferControlToOffscreen();return n.postMessage({offscreen:i},[i]),new Promise(async l=>{const{width:c,height:o}=Lt();let s;try{s=await createImageBitmap(y)}catch{try{s=await createImageBitmap(y,0,0,c,o)}catch(d){console.error(d.name,d.message),b.innerHTML="",T(d.message);return}}const a=new MessageChannel;a.port1.onmessage=({data:d})=>{a.port1.close(),n&&(n.terminate(),n=null),D.width=c,D.height=o,r.putImageData(d.result,0,0),l(d.result)},n.postMessage({inputImageBitmap:s,posterize:A.checked,rgba:{r:U(v[x.red]),g:U(v[x.green]),b:U(v[x.blue]),a:U(v[x.alpha])},cssFilters:Gt(),rotate:Number(v[ye.rotation].value),width:c,height:o,dpr:te},[a.port2])})}});else{const e=D.getContext("2d",{desynchronized:!0});e.scale(te,te),e.imageSmoothingEnabled=!0,qt=()=>{let{width:t,height:n}=Lt();const r=V.checked?te:1;let i=1;for(;!Rn.test({width:t,height:n});)t=Math.floor(t/2),n=Math.floor(n/2),i/=2;D.width=t,D.height=n,e.clearRect(0,0,t,n),e.filter=An(),e.setTransform(1,0,0,1,t/2,n/2);const l=Number(v[ye.rotation].value);return e.rotate(l*Math.PI/180),e.drawImage(y,-r*y.naturalWidth*i/2,-r*y.naturalHeight*i/2),e.getImageData(0,0,t,n)}}const Lt=()=>{const e=Number(v[ye.scale].value)/100;return{width:Math.ceil(te*y.naturalWidth*e),height:Math.ceil(te*y.naturalHeight*e)}},U=e=>{const t=Number(e.value),n=[];for(let r=0;r<=t;r++)n[r]=Number((1/t*r).toFixed(1));return n},Tn=()=>`data:image/svg+xml;utf8,<svg
      xmlns="http://www.w3.org/2000/svg"
      xmlns:xlink="http://www.w3.org/1999/xlink"
    >
      <filter id="posterize">
        <feComponentTransfer>
          <feFuncR type="discrete" tableValues="${U(v[x.red]).join(",")}" />
          <feFuncG type="discrete" tableValues="${U(v[x.green]).join(",")}" />
          <feFuncB type="discrete" tableValues="${U(v[x.blue]).join(",")}" />
          <feFuncA type="discrete" tableValues="${U(v[x.alpha])}" />
        </feComponentTransfer>
      </filter>
    </svg>`.replace(/[\r\n]/g,"").replace(/\s+/g," ").trim(),Gt=()=>{let e="";for(const[t,n]of Object.entries(Jt)){const r=v[t];n.initial!==Number(r.value)&&(e+=`${t}(${r.value}${r.dataset.unit}) `)}return e},An=()=>{let e=`${A.checked?`url('${Tn()}#posterize') `:""}`;return e+=Gt(),e.trim()||"none"};function In(){return new Worker("/assets/monochromeworker.7268595a.js")}let F=null;const $n=async e=>(F&&F.terminate(),F=new In,new Promise(async t=>{const n=new MessageChannel;n.port1.onmessage=({data:i})=>{n.port1.close(),F&&(F.terminate(),F=null),t(i.result)};const r={turdsize:Number(v[E.turdsize].value),alphamax:Number(v[E.alphamax].value),turnpolicy:Number(v[E.turnpolicy].value),opttolerance:Number(v[E.opttolerance].value),opticurve:O.checked?1:0,extractcolors:!1};F.postMessage({imageData:e,params:r},[n.port2])}));function jn(){return new Worker("/assets/colorworker.1537294c.js")}let G=null;const M={},Mn=async e=>(G&&G.terminate(),G=new jn,new Promise(async t=>{const n=new MessageChannel;n.port1.onmessage=({data:a})=>{n.port1.close(),G&&(G.terminate(),G=null),t(a.result)},Ie.value=0;let r="",i="",l="",c=0;M.current&&(clearInterval(M.current),M.current=null),M.current=setInterval(()=>{const a=`${r}${l}${i}`;if(a.length!==c){const d=b.dataset.transform;d&&b.setAttribute("transform",d),b.innerHTML=a,c=a.length}},500);const o=new MessageChannel;o.port1.onmessage=({data:a})=>{const d=Math.floor(a.processed/a.total*100);Ie.value=d,a.svg&&(r||(r=a.svg.replace(/(.*?<svg[^>]+>)(.*?)(<\/svg>)/,"$1").replace(/\s+width="\d+(?:\.\d+)?"/,"").replace(/\s+height="\d+(?:\.\d+)"/,""),i=a.svg.replace(/(.*?<svg[^>]+>)(.*?)(<\/svg>)/,"$3")),l+=a.svg.replace(/(.*?<svg[^>]+>)(.*?)(<\/svg>)/,"$2")),a.processed===a.total&&(clearInterval(M.current),M.current=null,o.port1.close(),Ie.value=0)};const s={minPathSegments:Number(v[E.minPathLength].value),strokeWidth:Number(v[E.strokeWidth].value),turdsize:Number(v[E.turdsize].value),alphamax:Number(v[E.alphamax].value),turnpolicy:Number(v[E.turnpolicy].value),opttolerance:Number(v[E.opttolerance].value),opticurve:O.checked?1:0,extractcolors:!1,posterizelevel:2,posterizationalgorithm:0};G.postMessage({imageData:e,params:s},[n.port2,o.port2])})),Et=(e,t)=>{const n=e[t];return n?typeof n=="function"?n():Promise.resolve(n):new Promise((r,i)=>{(typeof queueMicrotask=="function"?queueMicrotask:setTimeout)(i.bind(null,new Error("Unknown variable dynamic import: "+t)))})},Le="language",Vn=["ar","be","ca","da","de","el","en","es","fr","he","id","it","ja","ko","nl","no","pl","pt","ru","uk","zh"],zn=["ar-TN","be-BY","ca-ES","da-DK","de-DE","el-GR","en-GB","en-US","es-ES","fr-FR","he-IL","id-ID","it-IT","ja-JP","ko-KR","nl-NL","no-NO","pl-PL","pt-BR","ru-RU","uk-UA","zh-CN"],Dn=["ar","fa","he","ur"];class Hn{constructor(){this.defaultLanguage="en",this.defaultLocale="US",this.translations=null,this.supportedLanguages=Vn,this.supportedLocales=zn,this.currentLanguageAndLocale=this.detectOrRestoreLanguageAndLocale()}findBestMatchingLanguageAndLocale(t,n){return n&&(n=n.toUpperCase()),!t||!this.supportedLanguages.includes(t)?(t=this.defaultLanguage,n=this.defaultLocale):(!n||!this.supportedLocales.includes(`${t}-${n}`))&&(n=this.supportedLocales.find(r=>r.startsWith(`${t}-`)).split("-")[1]),{language:t,locale:n}}detectOrRestoreLanguageAndLocale(){const t=new URL(location),n=t.searchParams,r=n.get("lang");if(r){n.delete("lang"),history.pushState({},"",t);const[s,a=""]=r.split("-"),{language:d,locale:h}=this.findBestMatchingLanguageAndLocale(s,a);return this.setLanguageAndLocale(d,h),{language:d,locale:h}}try{const s=localStorage.getItem(Le);if(s){const{language:a,locale:d}=JSON.parse(s);return this.setLanguageAndLocale(a,d),{language:a,locale:d}}}catch{}const[i,l=""]=navigator.language?.split("-"),{language:c,locale:o}=this.findBestMatchingLanguageAndLocale(i,l);return this.setLanguageAndLocale(c,o),{language:c,locale:o}}async setLanguageAndLocale(t,n){try{this.supportedLanguages.includes(t)||(localStorage.removeItem(Le),t=this.defaultLanguage,n=this.defaultLocale),n&&!this.supportedLocales.includes(`${t}-${n}`)&&(localStorage.removeItem(Le),t=this.defaultLanguage,n=this.defaultLocale),this.currentLanguageAndLocale={language:t,locale:n},localStorage.setItem(Le,JSON.stringify(this.currentLanguageAndLocale))}catch{}R.lang=`${t}${n?`-${n}`:""}`,Dn.includes(t)?R.dir="rtl":R.dir="ltr",await this.getTranslations()}async getTranslations(){const{language:t,locale:n}=this.currentLanguageAndLocale;this.translations=(await Et(Object.assign({"../i18n/ar-TN.js":()=>p(()=>import("./ar-TN.e1dccb50.js"),["assets/ar-TN.e1dccb50.js","assets/languages.d01e4060.js"]),"../i18n/be-BY.js":()=>p(()=>import("./be-BY.bd991399.js"),["assets/be-BY.bd991399.js","assets/languages.d01e4060.js"]),"../i18n/ca-ES.js":()=>p(()=>import("./ca-ES.2838dd1b.js"),["assets/ca-ES.2838dd1b.js","assets/languages.d01e4060.js"]),"../i18n/da-DK.js":()=>p(()=>import("./da-DK.51f62f0b.js"),["assets/da-DK.51f62f0b.js","assets/languages.d01e4060.js"]),"../i18n/de-DE.js":()=>p(()=>import("./de-DE.ba71fa3d.js"),["assets/de-DE.ba71fa3d.js","assets/languages.d01e4060.js"]),"../i18n/el-GR.js":()=>p(()=>import("./el-GR.0dd19d65.js"),["assets/el-GR.0dd19d65.js","assets/languages.d01e4060.js"]),"../i18n/en-GB.js":()=>p(()=>import("./en-GB.853d8783.js"),["assets/en-GB.853d8783.js","assets/languages.d01e4060.js"]),"../i18n/en-US.js":()=>p(()=>import("./en-US.f79902e3.js"),["assets/en-US.f79902e3.js","assets/languages.d01e4060.js"]),"../i18n/es-ES.js":()=>p(()=>import("./es-ES.3c1eb861.js"),["assets/es-ES.3c1eb861.js","assets/languages.d01e4060.js"]),"../i18n/fr-FR.js":()=>p(()=>import("./fr-FR.39a0aad9.js"),["assets/fr-FR.39a0aad9.js","assets/languages.d01e4060.js"]),"../i18n/he-IL.js":()=>p(()=>import("./he-IL.5d3648df.js"),["assets/he-IL.5d3648df.js","assets/languages.d01e4060.js"]),"../i18n/id-ID.js":()=>p(()=>import("./id-ID.64e137e4.js"),["assets/id-ID.64e137e4.js","assets/languages.d01e4060.js"]),"../i18n/it-IT.js":()=>p(()=>import("./it-IT.b34aa3df.js"),["assets/it-IT.b34aa3df.js","assets/languages.d01e4060.js"]),"../i18n/ja-JP.js":()=>p(()=>import("./ja-JP.fbc8c2fd.js"),["assets/ja-JP.fbc8c2fd.js","assets/languages.d01e4060.js"]),"../i18n/ko-KR.js":()=>p(()=>import("./ko-KR.b67c9752.js"),["assets/ko-KR.b67c9752.js","assets/languages.d01e4060.js"]),"../i18n/languages.js":()=>p(()=>import("./languages.d01e4060.js"),[]),"../i18n/nl-NL.js":()=>p(()=>import("./nl-NL.1e75ebff.js"),["assets/nl-NL.1e75ebff.js","assets/languages.d01e4060.js"]),"../i18n/no-NO.js":()=>p(()=>import("./no-NO.374358df.js"),["assets/no-NO.374358df.js","assets/languages.d01e4060.js"]),"../i18n/pl-PL.js":()=>p(()=>import("./pl-PL.5a2aa4c1.js"),["assets/pl-PL.5a2aa4c1.js","assets/languages.d01e4060.js"]),"../i18n/pt-BR.js":()=>p(()=>import("./pt-BR.0a3bc8e3.js"),["assets/pt-BR.0a3bc8e3.js","assets/languages.d01e4060.js"]),"../i18n/ru-RU.js":()=>p(()=>import("./ru-RU.fcfaa9d5.js"),["assets/ru-RU.fcfaa9d5.js","assets/languages.d01e4060.js"]),"../i18n/uk-UA.js":()=>p(()=>import("./uk-UA.a19e27cd.js"),["assets/uk-UA.a19e27cd.js","assets/languages.d01e4060.js"]),"../i18n/zh-CN.js":()=>p(()=>import("./zh-CN.96ead65d.js"),["assets/zh-CN.96ead65d.js","assets/languages.d01e4060.js"])}),`../i18n/${t}${n?`-${n}`:""}.js`).catch(()=>Et(Object.assign({"../i18n/ar-TN.js":()=>p(()=>import("./ar-TN.e1dccb50.js"),["assets/ar-TN.e1dccb50.js","assets/languages.d01e4060.js"]),"../i18n/be-BY.js":()=>p(()=>import("./be-BY.bd991399.js"),["assets/be-BY.bd991399.js","assets/languages.d01e4060.js"]),"../i18n/ca-ES.js":()=>p(()=>import("./ca-ES.2838dd1b.js"),["assets/ca-ES.2838dd1b.js","assets/languages.d01e4060.js"]),"../i18n/da-DK.js":()=>p(()=>import("./da-DK.51f62f0b.js"),["assets/da-DK.51f62f0b.js","assets/languages.d01e4060.js"]),"../i18n/de-DE.js":()=>p(()=>import("./de-DE.ba71fa3d.js"),["assets/de-DE.ba71fa3d.js","assets/languages.d01e4060.js"]),"../i18n/el-GR.js":()=>p(()=>import("./el-GR.0dd19d65.js"),["assets/el-GR.0dd19d65.js","assets/languages.d01e4060.js"]),"../i18n/en-GB.js":()=>p(()=>import("./en-GB.853d8783.js"),["assets/en-GB.853d8783.js","assets/languages.d01e4060.js"]),"../i18n/en-US.js":()=>p(()=>import("./en-US.f79902e3.js"),["assets/en-US.f79902e3.js","assets/languages.d01e4060.js"]),"../i18n/es-ES.js":()=>p(()=>import("./es-ES.3c1eb861.js"),["assets/es-ES.3c1eb861.js","assets/languages.d01e4060.js"]),"../i18n/fr-FR.js":()=>p(()=>import("./fr-FR.39a0aad9.js"),["assets/fr-FR.39a0aad9.js","assets/languages.d01e4060.js"]),"../i18n/he-IL.js":()=>p(()=>import("./he-IL.5d3648df.js"),["assets/he-IL.5d3648df.js","assets/languages.d01e4060.js"]),"../i18n/id-ID.js":()=>p(()=>import("./id-ID.64e137e4.js"),["assets/id-ID.64e137e4.js","assets/languages.d01e4060.js"]),"../i18n/it-IT.js":()=>p(()=>import("./it-IT.b34aa3df.js"),["assets/it-IT.b34aa3df.js","assets/languages.d01e4060.js"]),"../i18n/ja-JP.js":()=>p(()=>import("./ja-JP.fbc8c2fd.js"),["assets/ja-JP.fbc8c2fd.js","assets/languages.d01e4060.js"]),"../i18n/ko-KR.js":()=>p(()=>import("./ko-KR.b67c9752.js"),["assets/ko-KR.b67c9752.js","assets/languages.d01e4060.js"]),"../i18n/languages.js":()=>p(()=>import("./languages.d01e4060.js"),[]),"../i18n/nl-NL.js":()=>p(()=>import("./nl-NL.1e75ebff.js"),["assets/nl-NL.1e75ebff.js","assets/languages.d01e4060.js"]),"../i18n/no-NO.js":()=>p(()=>import("./no-NO.374358df.js"),["assets/no-NO.374358df.js","assets/languages.d01e4060.js"]),"../i18n/pl-PL.js":()=>p(()=>import("./pl-PL.5a2aa4c1.js"),["assets/pl-PL.5a2aa4c1.js","assets/languages.d01e4060.js"]),"../i18n/pt-BR.js":()=>p(()=>import("./pt-BR.0a3bc8e3.js"),["assets/pt-BR.0a3bc8e3.js","assets/languages.d01e4060.js"]),"../i18n/ru-RU.js":()=>p(()=>import("./ru-RU.fcfaa9d5.js"),["assets/ru-RU.fcfaa9d5.js","assets/languages.d01e4060.js"]),"../i18n/uk-UA.js":()=>p(()=>import("./uk-UA.a19e27cd.js"),["assets/uk-UA.a19e27cd.js","assets/languages.d01e4060.js"]),"../i18n/zh-CN.js":()=>p(()=>import("./zh-CN.96ead65d.js"),["assets/zh-CN.96ead65d.js","assets/languages.d01e4060.js"])}),`../i18n/${this.defaultLocale}.js`))).default}t(t){return this.translations[t]||"\u26D4\uFE0F Missing translation"}}const f=new Hn,Nn='<svg viewBox="0 0 57 57" xmlns="http://www.w3.org/2000/svg" stroke="currentColor"><g transform="translate(1 1)" stroke-width="2" fill="none" fill-rule="evenodd"><circle cx="5" cy="50" r="5"><animate attributeName="cy" begin="0s" dur="2.2s" values="50;5;50;50" calcMode="linear" repeatCount="indefinite"/><animate attributeName="cx" begin="0s" dur="2.2s" values="5;27;49;5" calcMode="linear" repeatCount="indefinite"/></circle><circle cx="27" cy="5" r="5"><animate attributeName="cy" begin="0s" dur="2.2s" from="5" to="5" values="5;50;50;5" calcMode="linear" repeatCount="indefinite"/><animate attributeName="cx" begin="0s" dur="2.2s" from="27" to="27" values="27;49;5;27" calcMode="linear" repeatCount="indefinite"/></circle><circle cx="49" cy="50" r="5"><animate attributeName="cy" begin="0s" dur="2.2s" values="50;50;5;50" calcMode="linear" repeatCount="indefinite"/><animate attributeName="cx" from="49" to="49" begin="0s" dur="2.2s" values="49;5;27;49" calcMode="linear" repeatCount="indefinite"/></circle></g></svg>',kt=(e,t)=>{!e||(e=e.replace(/\s+width="\d+(?:\.\d+)?"/,"").replace(/\s+height="\d+(?:\.\d+)"/,""),b.classList.remove(ze),b.classList.remove(De),b.classList.add(t),b.innerHTML=e,T(`${f.t("svgSize")}: ${e.length} ${f.t("bytes")}`,3e3))},$=async()=>{b.innerHTML="",b.classList.remove(ze,De),M.current&&(clearInterval(M.current),M.current=null);const e=b.getAttribute("transform");b.innerHTML=Nn,e&&(b.dataset.transform=e,b.setAttribute("transform",""));const t=Ft?await Wt():qt();if(k.checked){const n=await Mn(t);e&&b.setAttribute("transform",e),kt(n,ze)}else{const n=await $n(t);e&&b.setAttribute("transform",e),kt(n,De)}},we=(()=>{if(typeof self>"u")return!1;if("top"in self&&self!==top)try{}catch{return!1}else if("showOpenFilePicker"in self)return"showOpenFilePicker";return!1})(),Bn=we?Promise.resolve().then(function(){return Yn}):Promise.resolve().then(function(){return er});async function Un(...e){return(await Bn).default(...e)}we?Promise.resolve().then(function(){return Kn}):Promise.resolve().then(function(){return nr});const Wn=we?Promise.resolve().then(function(){return Zn}):Promise.resolve().then(function(){return ir});async function qn(...e){return(await Wn).default(...e)}const Fn=async e=>{const t=await e.getFile();return t.handle=e,t};var Gn=async(e=[{}])=>{Array.isArray(e)||(e=[e]);const t=[];e.forEach((i,l)=>{t[l]={description:i.description||"Files",accept:{}},i.mimeTypes?i.mimeTypes.map(c=>{t[l].accept[c]=i.extensions||[]}):t[l].accept["*/*"]=i.extensions||[]});const n=await window.showOpenFilePicker({id:e[0].id,startIn:e[0].startIn,types:t,multiple:e[0].multiple||!1,excludeAcceptAllOption:e[0].excludeAcceptAllOption||!1}),r=await Promise.all(n.map(Fn));return e[0].multiple?r:r[0]},Yn={__proto__:null,default:Gn};function je(e){function t(n){if(Object(n)!==n)return Promise.reject(new TypeError(n+" is not an object."));var r=n.done;return Promise.resolve(n.value).then(function(i){return{value:i,done:r}})}return je=function(n){this.s=n,this.n=n.next},je.prototype={s:null,n:null,next:function(){return t(this.n.apply(this.s,arguments))},return:function(n){var r=this.s.return;return r===void 0?Promise.resolve({value:n,done:!0}):t(r.apply(this.s,arguments))},throw:function(n){var r=this.s.return;return r===void 0?Promise.reject(n):t(r.apply(this.s,arguments))}},new je(e)}const Yt=async(e,t,n=e.name,r)=>{const i=[],l=[];var c,o=!1,s=!1;try{for(var a,d=function(h){var u,m,w,C=2;for(typeof Symbol<"u"&&(m=Symbol.asyncIterator,w=Symbol.iterator);C--;){if(m&&(u=h[m])!=null)return u.call(h);if(w&&(u=h[w])!=null)return new je(u.call(h));m="@@asyncIterator",w="@@iterator"}throw new TypeError("Object is not async iterable")}(e.values());o=!(a=await d.next()).done;o=!1){const h=a.value,u=`${n}/${h.name}`;h.kind==="file"?l.push(h.getFile().then(m=>(m.directoryHandle=e,m.handle=h,Object.defineProperty(m,"webkitRelativePath",{configurable:!0,enumerable:!0,get:()=>u})))):h.kind!=="directory"||!t||r&&r(h)||i.push(Yt(h,t,u,r))}}catch(h){s=!0,c=h}finally{try{o&&d.return!=null&&await d.return()}finally{if(s)throw c}}return[...(await Promise.all(i)).flat(),...await Promise.all(l)]};var Xn=async(e={})=>{e.recursive=e.recursive||!1,e.mode=e.mode||"read";const t=await window.showDirectoryPicker({id:e.id,startIn:e.startIn,mode:e.mode});return Yt(t,e.recursive,void 0,e.skipDirectory)},Kn={__proto__:null,default:Xn},Jn=async(e,t=[{}],n=null,r=!1,i=null)=>{Array.isArray(t)||(t=[t]),t[0].fileName=t[0].fileName||"Untitled";const l=[];let c=null;if(e instanceof Blob&&e.type?c=e.type:e.headers&&e.headers.get("content-type")&&(c=e.headers.get("content-type")),t.forEach((a,d)=>{l[d]={description:a.description||"Files",accept:{}},a.mimeTypes?(d===0&&c&&a.mimeTypes.push(c),a.mimeTypes.map(h=>{l[d].accept[h]=a.extensions||[]})):c?l[d].accept[c]=a.extensions||[]:l[d].accept["*/*"]=a.extensions||[]}),n)try{await n.getFile()}catch(a){if(n=null,r)throw a}const o=n||await window.showSaveFilePicker({suggestedName:t[0].fileName,id:t[0].id,startIn:t[0].startIn,types:l,excludeAcceptAllOption:t[0].excludeAcceptAllOption||!1});!n&&i&&i(o);const s=await o.createWritable();return"stream"in e?(await e.stream().pipeTo(s),o):"body"in e?(await e.body.pipeTo(s),o):(await s.write(await e),await s.close(),o)},Zn={__proto__:null,default:Jn},Qn=async(e=[{}])=>(Array.isArray(e)||(e=[e]),new Promise((t,n)=>{const r=document.createElement("input");r.type="file";const i=[...e.map(s=>s.mimeTypes||[]),...e.map(s=>s.extensions||[])].join();r.multiple=e[0].multiple||!1,r.accept=i||"",r.style.display="none",document.body.append(r);const l=s=>{typeof c=="function"&&c(),t(s)},c=e[0].legacySetup&&e[0].legacySetup(l,()=>c(n),r),o=()=>{window.removeEventListener("focus",o),r.remove()};r.addEventListener("click",()=>{window.addEventListener("focus",o)}),r.addEventListener("change",()=>{window.removeEventListener("focus",o),r.remove(),l(r.multiple?Array.from(r.files):r.files[0])}),r.click()})),er={__proto__:null,default:Qn},tr=async(e=[{}])=>(Array.isArray(e)||(e=[e]),e[0].recursive=e[0].recursive||!1,new Promise((t,n)=>{const r=document.createElement("input");r.type="file",r.webkitdirectory=!0;const i=c=>{typeof l=="function"&&l(),t(c)},l=e[0].legacySetup&&e[0].legacySetup(i,()=>l(n),r);r.addEventListener("change",()=>{let c=Array.from(r.files);e[0].recursive?e[0].recursive&&e[0].skipDirectory&&(c=c.filter(o=>o.webkitRelativePath.split("/").every(s=>!e[0].skipDirectory({name:s,kind:"directory"})))):c=c.filter(o=>o.webkitRelativePath.split("/").length===2),i(c)}),r.click()})),nr={__proto__:null,default:tr},rr=async(e,t={})=>{Array.isArray(t)&&(t=t[0]);const n=document.createElement("a");let r=e;"body"in e&&(r=await async function(c,o){const s=c.getReader(),a=new ReadableStream({start:u=>async function m(){return s.read().then(({done:w,value:C})=>{if(!w)return u.enqueue(C),m();u.close()})}()}),d=new Response(a),h=await d.blob();return s.releaseLock(),new Blob([h],{type:o})}(e.body,e.headers.get("content-type"))),n.download=t.fileName||"Untitled",n.href=URL.createObjectURL(await r);const i=()=>{typeof l=="function"&&l()},l=t.legacySetup&&t.legacySetup(i,()=>l(),n);return n.addEventListener("click",()=>{setTimeout(()=>URL.revokeObjectURL(n.href),3e4),i()}),n.click(),null},ir={__proto__:null,default:rr};function or(){return new Worker("/assets/svgoworker.c8c14599.js")}let Y=null;const Me=async e=>(Y&&Y.terminate(),Y=new or,new Promise(t=>{const n=new MessageChannel;n.port1.onmessage=({data:r})=>{n.port1.close(),Y&&(Y.terminate(),Y=null),t(r.result)},Y.postMessage({svg:e},[n.port2])}));function Be(e){return new Promise((t,n)=>{e.oncomplete=e.onsuccess=()=>t(e.result),e.onabort=e.onerror=()=>n(e.error)})}function ar(e,t){const n=indexedDB.open(e);n.onupgradeneeded=()=>n.result.createObjectStore(t);const r=Be(n);return(i,l)=>r.then(c=>l(c.transaction(t,i).objectStore(t)))}let Ye;function ht(){return Ye||(Ye=ar("keyval-store","keyval")),Ye}function ie(e,t=ht()){return t("readonly",n=>Be(n.get(e)))}function W(e,t,n=ht()){return n("readwrite",r=>(r.put(t,e),Be(r.transaction)))}function sr(e,t=ht()){return t("readwrite",n=>(n.delete(e),Be(n.transaction)))}const ve="fileHandle",cr=e=>e?e.name.replace(/\.[^\.]+$/,""):"";Pe.addEventListener("click",async()=>{try{const e=await Un({mimeTypes:["image/*"],description:"Image files"}),t=URL.createObjectURL(e);y.addEventListener("load",()=>{URL.revokeObjectURL(t)},{once:!0}),y.src=t,we&&await W(ve,e.handle)}catch(e){console.error(e.name,e.message),T(e.message)}});document.addEventListener("dragover",e=>{e.preventDefault()});document.addEventListener("dragenter",e=>{e.preventDefault(),R.classList.add("dropenter")});document.addEventListener("dragleave",e=>{e.preventDefault(),e.target===R&&R.classList.remove("dropenter")});document.addEventListener("drop",async e=>{e.preventDefault(),e.stopPropagation(),R.classList.remove("dropenter");const t=e.dataTransfer.items[0];if(t.kind==="file"){let n;if(y.addEventListener("load",()=>{URL.revokeObjectURL(n)},{once:!0}),we){const i=await t.getAsFileSystemHandle();if(i.kind!=="file")return;const l=await i.getFile();n=URL.createObjectURL(l),y.src=n,await W(ve,i);return}const r=t.getAsFile();n=URL.createObjectURL(r),y.src=n}});Ce.addEventListener("click",async()=>{const e=async()=>{T(f.t("optimizingSVG"),1/0);const t=await Me(b.innerHTML);return jr(),new Blob([t],{type:"image/svg+xml"})};try{const t=cr(await ie(ve));await qn(e(),{fileName:t,description:"SVG file",extensions:[".svg"],mimeTypes:["image/svg+xml"]}),T(f.t("savedSVG"))}catch(t){console.error(t.name,t.message),T(t.message)}});Te.addEventListener("click",async()=>{try{const e=await navigator.clipboard.read();for(const t of e)for(const n of t.types)if(n.startsWith("image/")){const r=await t.getType(n);if(!r)return;const i=URL.createObjectURL(r);y.src=i;return}}catch(e){console.error(e.name,e.message),T(e.message)}});document.addEventListener("paste",e=>{try{if(!e.clipboardData.files.length)return;const t=e.clipboardData.files[0];if(t.type.startsWith("image/")){const n=URL.createObjectURL(t);y.src=n;return}}catch(t){console.error(t.name,t.message),T(t.message)}});Oe.addEventListener("click",async()=>{let e=b.innerHTML;T(f.t("optimizingSVG"),1/0);try{"ClipboardItem"in window?Bt?await navigator.clipboard.write([new ClipboardItem({"text/plain":new Promise(async t=>{t(new Blob([e],{type:"text/plain"}))})})]):(e=await Me(e),await navigator.clipboard.write([new ClipboardItem({"text/plain":new Promise(async t=>{t(new Blob([e],{type:"text/plain"}))}),"image/svg+xml":new Promise(async t=>{t(new Blob([e],{type:"image/svg+xml"}))})})])):await navigator.clipboard.writeText(await Me(e))}catch{e=await Me(e);const n=new Blob([e],{type:"text/plain"}),r=new Blob([e],{type:"image/svg+xml"});try{Number(navigator.userAgent.replace(/.*Chrome\/(\d+).*/,"$1"))<=88?await navigator.clipboard.write([new ClipboardItem({[n.type]:n})]):await navigator.clipboard.write([new ClipboardItem({[r.type]:r,[n.type]:n})])}catch{try{await navigator.clipboard.write([new ClipboardItem({[n.type]:n})])}catch(l){T(l.message);return}}}T(f.t("copiedSVG"))});class B{constructor(t){this.id=-1,this.nativePointer=t,this.pageX=t.pageX,this.pageY=t.pageY,this.clientX=t.clientX,this.clientY=t.clientY,self.Touch&&t instanceof Touch?this.id=t.identifier:he(t)&&(this.id=t.pointerId)}getCoalesced(){if("getCoalescedEvents"in this.nativePointer){const t=this.nativePointer.getCoalescedEvents().map(n=>new B(n));if(t.length>0)return t}return[this]}}const he=e=>"pointerId"in e,Xe=e=>"changedTouches"in e,St=()=>{};class lr{constructor(t,{start:n=()=>!0,move:r=St,end:i=St,rawUpdates:l=!1,avoidPointerEvents:c=!1}={}){this._element=t,this.startPointers=[],this.currentPointers=[],this._excludeFromButtonsCheck=new Set,this._pointerStart=o=>{if(he(o)&&o.buttons===0)this._excludeFromButtonsCheck.add(o.pointerId);else if(!(o.buttons&1))return;const s=new B(o);this.currentPointers.some(a=>a.id===s.id)||!this._triggerPointerStart(s,o)||(he(o)?((o.target&&"setPointerCapture"in o.target?o.target:this._element).setPointerCapture(o.pointerId),this._element.addEventListener(this._rawUpdates?"pointerrawupdate":"pointermove",this._move),this._element.addEventListener("pointerup",this._pointerEnd),this._element.addEventListener("pointercancel",this._pointerEnd)):(window.addEventListener("mousemove",this._move),window.addEventListener("mouseup",this._pointerEnd)))},this._touchStart=o=>{for(const s of Array.from(o.changedTouches))this._triggerPointerStart(new B(s),o)},this._move=o=>{if(!Xe(o)&&(!he(o)||!this._excludeFromButtonsCheck.has(o.pointerId))&&o.buttons===0){this._pointerEnd(o);return}const s=this.currentPointers.slice(),a=Xe(o)?Array.from(o.changedTouches).map(h=>new B(h)):[new B(o)],d=[];for(const h of a){const u=this.currentPointers.findIndex(m=>m.id===h.id);u!==-1&&(d.push(h),this.currentPointers[u]=h)}d.length!==0&&this._moveCallback(s,d,o)},this._triggerPointerEnd=(o,s)=>{if(!Xe(s)&&s.buttons&1)return!1;const a=this.currentPointers.findIndex(h=>h.id===o.id);if(a===-1)return!1;this.currentPointers.splice(a,1),this.startPointers.splice(a,1),this._excludeFromButtonsCheck.delete(o.id);const d=!(s.type==="mouseup"||s.type==="touchend"||s.type==="pointerup");return this._endCallback(o,s,d),!0},this._pointerEnd=o=>{if(!!this._triggerPointerEnd(new B(o),o))if(he(o)){if(this.currentPointers.length)return;this._element.removeEventListener(this._rawUpdates?"pointerrawupdate":"pointermove",this._move),this._element.removeEventListener("pointerup",this._pointerEnd),this._element.removeEventListener("pointercancel",this._pointerEnd)}else window.removeEventListener("mousemove",this._move),window.removeEventListener("mouseup",this._pointerEnd)},this._touchEnd=o=>{for(const s of Array.from(o.changedTouches))this._triggerPointerEnd(new B(s),o)},this._startCallback=n,this._moveCallback=r,this._endCallback=i,this._rawUpdates=l&&"onpointerrawupdate"in window,self.PointerEvent&&!c?this._element.addEventListener("pointerdown",this._pointerStart):(this._element.addEventListener("mousedown",this._pointerStart),this._element.addEventListener("touchstart",this._touchStart),this._element.addEventListener("touchmove",this._move),this._element.addEventListener("touchend",this._touchEnd),this._element.addEventListener("touchcancel",this._touchEnd))}stop(){this._element.removeEventListener("pointerdown",this._pointerStart),this._element.removeEventListener("mousedown",this._pointerStart),this._element.removeEventListener("touchstart",this._touchStart),this._element.removeEventListener("touchmove",this._move),this._element.removeEventListener("touchend",this._touchEnd),this._element.removeEventListener("touchcancel",this._touchEnd),this._element.removeEventListener(this._rawUpdates?"pointerrawupdate":"pointermove",this._move),this._element.removeEventListener("pointerup",this._pointerEnd),this._element.removeEventListener("pointercancel",this._pointerEnd),window.removeEventListener("mousemove",this._move),window.removeEventListener("mouseup",this._pointerEnd)}_triggerPointerStart(t,n){return this._startCallback(t,n)?(this.currentPointers.push(t),this.startPointers.push(t),!0):!1}}function dr(e,t){t===void 0&&(t={});var n=t.insertAt;if(!(!e||typeof document>"u")){var r=document.head||document.getElementsByTagName("head")[0],i=document.createElement("style");i.type="text/css",n==="top"&&r.firstChild?r.insertBefore(i,r.firstChild):r.appendChild(i),i.styleSheet?i.styleSheet.cssText=e:i.appendChild(document.createTextNode(e))}}var ur=`pinch-zoom {
  display: block;
  overflow: hidden;
  touch-action: none;
  --scale: 1;
  --x: 0;
  --y: 0;
}

pinch-zoom > * {
  transform: translate(var(--x), var(--y)) scale(var(--scale));
  transform-origin: 0 0;
  will-change: transform;
}
`;dr(ur);const Ee="min-scale";function xt(e,t){return t?Math.sqrt((t.clientX-e.clientX)**2+(t.clientY-e.clientY)**2):0}function Pt(e,t){return t?{clientX:(e.clientX+t.clientX)/2,clientY:(e.clientY+t.clientY)/2}:e}function Ct(e,t){return typeof e=="number"?e:e.trimRight().endsWith("%")?t*parseFloat(e)/100:parseFloat(e)}let Ot;function Xt(){return Ot||(Ot=document.createElementNS("http://www.w3.org/2000/svg","svg"))}function Ke(){return Xt().createSVGMatrix()}function Rt(){return Xt().createSVGPoint()}const Je=.01;class hr extends HTMLElement{constructor(){super(),this._transform=Ke(),new MutationObserver(()=>this._stageElChange()).observe(this,{childList:!0});const t=new lr(this,{start:(n,r)=>t.currentPointers.length===2||!this._positioningEl?!1:(r.preventDefault(),!0),move:n=>{this._onPointerMove(n,t.currentPointers)}});this.addEventListener("wheel",n=>this._onWheel(n))}static get observedAttributes(){return[Ee]}attributeChangedCallback(t,n,r){t===Ee&&this.scale<this.minScale&&this.setTransform({scale:this.minScale})}get minScale(){const t=this.getAttribute(Ee);if(!t)return Je;const n=parseFloat(t);return Number.isFinite(n)?Math.max(Je,n):Je}set minScale(t){this.setAttribute(Ee,String(t))}connectedCallback(){this._stageElChange()}get x(){return this._transform.e}get y(){return this._transform.f}get scale(){return this._transform.a}scaleTo(t,n={}){let{originX:r=0,originY:i=0}=n;const{relativeTo:l="content",allowChangeEvent:c=!1}=n,o=l==="content"?this._positioningEl:this;if(!o||!this._positioningEl){this.setTransform({scale:t,allowChangeEvent:c});return}const s=o.getBoundingClientRect();if(r=Ct(r,s.width),i=Ct(i,s.height),l==="content")r+=this.x,i+=this.y;else{const a=this._positioningEl.getBoundingClientRect();r-=a.left,i-=a.top}this._applyChange({allowChangeEvent:c,originX:r,originY:i,scaleDiff:t/this.scale})}setTransform(t={}){const{scale:n=this.scale,allowChangeEvent:r=!1}=t;let{x:i=this.x,y:l=this.y}=t;if(!this._positioningEl){this._updateTransform(n,i,l,r);return}const c=this.getBoundingClientRect(),o=this._positioningEl.getBoundingClientRect();if(!c.width||!c.height){this._updateTransform(n,i,l,r);return}let s=Rt();s.x=o.left-c.left,s.y=o.top-c.top;let a=Rt();a.x=o.width+s.x,a.y=o.height+s.y;const d=Ke().translate(i,l).scale(n).multiply(this._transform.inverse());s=s.matrixTransform(d),a=a.matrixTransform(d),s.x>c.width?i+=c.width-s.x:a.x<0&&(i+=-a.x),s.y>c.height?l+=c.height-s.y:a.y<0&&(l+=-a.y),this._updateTransform(n,i,l,r)}_updateTransform(t,n,r,i){if(!(t<this.minScale)&&!(t===this.scale&&n===this.x&&r===this.y)&&(this._transform.e=n,this._transform.f=r,this._transform.d=this._transform.a=t,this.style.setProperty("--x",this.x+"px"),this.style.setProperty("--y",this.y+"px"),this.style.setProperty("--scale",this.scale+""),i)){const l=new Event("change",{bubbles:!0});this.dispatchEvent(l)}}_stageElChange(){this._positioningEl=void 0,this.children.length!==0&&(this._positioningEl=this.children[0],this.children.length>1&&console.warn("<pinch-zoom> must not have more than one child."),this.setTransform({allowChangeEvent:!0}))}_onWheel(t){if(!this._positioningEl)return;t.preventDefault();const n=this._positioningEl.getBoundingClientRect();let{deltaY:r}=t;const{ctrlKey:i,deltaMode:l}=t;l===1&&(r*=15);const o=1-r/(i?100:300);this._applyChange({scaleDiff:o,originX:t.clientX-n.left,originY:t.clientY-n.top,allowChangeEvent:!0})}_onPointerMove(t,n){if(!this._positioningEl)return;const r=this._positioningEl.getBoundingClientRect(),i=Pt(t[0],t[1]),l=Pt(n[0],n[1]),c=i.clientX-r.left,o=i.clientY-r.top,s=xt(t[0],t[1]),a=xt(n[0],n[1]),d=s?a/s:1;this._applyChange({originX:c,originY:o,scaleDiff:d,panX:l.clientX-i.clientX,panY:l.clientY-i.clientY,allowChangeEvent:!0})}_applyChange(t={}){const{panX:n=0,panY:r=0,originX:i=0,originY:l=0,scaleDiff:c=1,allowChangeEvent:o=!1}=t,s=Ke().translate(n,r).translate(i,l).translate(this.x,this.y).scale(c).translate(-i,-l).scale(this.scale);this.setTransform({allowChangeEvent:o,scale:s.a,x:s.e,y:s.f})}}customElements.define("pinch-zoom",hr);const pr='<svg xmlns="http://www.w3.org/2000/svg" height="24" viewBox="0 0 24 24" width="24"><path d="M0 0h24v24H0z" fill="none"/><path d="M7 14c-1.66 0-3 1.34-3 3 0 1.31-1.16 2-2 2 .92 1.22 2.49 2 4 2 2.21 0 4-1.79 4-4 0-1.66-1.34-3-3-3zm13.71-9.37l-1.34-1.34c-.39-.39-1.02-.39-1.41 0L9 12.25 11.75 15l8.96-8.96c.39-.39.39-1.02 0-1.41z"/></svg>',mr='<svg xmlns="http://www.w3.org/2000/svg" enable-background="new 0 0 24 24" height="24" viewBox="0 0 24 24" width="24"><g><rect fill="none" height="24" width="24"/></g><g><g><path d="M17.66,17.66l-1.06,1.06l-0.71-0.71l1.06-1.06l-1.94-1.94l-1.06,1.06l-0.71-0.71l1.06-1.06l-1.94-1.94l-1.06,1.06 l-0.71-0.71l1.06-1.06L9.7,9.7l-1.06,1.06l-0.71-0.71l1.06-1.06L7.05,7.05L5.99,8.11L5.28,7.4l1.06-1.06L4,4v14c0,1.1,0.9,2,2,2 h14L17.66,17.66z M7,17v-5.76L12.76,17H7z"/></g></g></svg>',fr='<svg xmlns="http://www.w3.org/2000/svg" height="24" viewBox="0 0 24 24" width="24"><path d="M0 0h24v24H0z" fill="none"/><path d="M15.96 10.29l-2.75 3.54-1.96-2.36L8.5 15h11l-3.54-4.71zM3 5H1v16c0 1.1.9 2 2 2h16v-2H3V5zm18-4H7c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V3c0-1.1-.9-2-2-2zm0 16H7V3h14v14z"/></svg>',gr='<svg xmlns="http://www.w3.org/2000/svg" height="24" viewBox="0 0 24 24" width="24"><path d="M0 0h24v24H0z" fill="none"/><path d="M3 17v2h6v-2H3zM3 5v2h10V5H3zm10 16v-2h8v-2h-8v-2h-2v6h2zM7 9v2H3v2h4v2h2V9H7zm14 4v-2H11v2h10zm-6-4h2V7h4V5h-4V3h-2v6z"/></svg>',vr='<svg xmlns="http://www.w3.org/2000/svg" height="24" viewBox="0 0 24 24" width="24"><path d="M0 0h24v24H0z" fill="none"/><path d="M20 6h-8l-2-2H4c-1.1 0-1.99.9-1.99 2L2 18c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V8c0-1.1-.9-2-2-2zm0 12H4V8h16v10z"/></svg>',yr='<svg xmlns="http://www.w3.org/2000/svg" height="24" viewBox="0 0 24 24" width="24"><path d="M0 0h24v24H0z" fill="none"/><path d="M17 3H5c-1.11 0-2 .9-2 2v14c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2V7l-4-4zm-5 16c-1.66 0-3-1.34-3-3s1.34-3 3-3 3 1.34 3 3-1.34 3-3 3zm3-10H5V5h10v4z"/></svg>',wr='<svg xmlns="http://www.w3.org/2000/svg" height="24" viewBox="0 0 24 24" width="24"><path d="M0 0h24v24H0z" fill="none"/><path d="M16 1H4c-1.1 0-2 .9-2 2v14h2V3h12V1zm3 4H8c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h11c1.1 0 2-.9 2-2V7c0-1.1-.9-2-2-2zm0 16H8V7h11v14z"/></svg>',br='<svg xmlns="http://www.w3.org/2000/svg" height="24" viewBox="0 0 24 24" width="24"><path d="M0 0h24v24H0z" fill="none"/><path d="M19 2h-4.18C14.4.84 13.3 0 12 0c-1.3 0-2.4.84-2.82 2H5c-1.1 0-2 .9-2 2v16c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V4c0-1.1-.9-2-2-2zm-7 0c.55 0 1 .45 1 1s-.45 1-1 1-1-.45-1-1 .45-1 1-1zm7 18H5V4h2v3h10V4h2v16z"/></svg>',_r='<svg xmlns="http://www.w3.org/2000/svg" height="24" viewBox="0 0 24 24" width="24"><path d="M0 0h24v24H0V0z" fill="none"/><path d="M16 5l-1.42 1.42-1.59-1.59V16h-1.98V4.83L9.42 6.42 8 5l4-4 4 4zm4 5v11c0 1.1-.9 2-2 2H6c-1.11 0-2-.9-2-2V10c0-1.11.89-2 2-2h3v2H6v11h12V10h-3V8h3c1.1 0 2 .89 2 2z"/></svg>',Lr='<svg xmlns="http://www.w3.org/2000/svg" height="24" viewBox="0 0 24 24" width="24"><path d="M0 0h24v24H0z" fill="none"/><path d="M18 16.08c-.76 0-1.44.3-1.96.77L8.91 12.7c.05-.23.09-.46.09-.7s-.04-.47-.09-.7l7.05-4.11c.54.5 1.25.81 2.04.81 1.66 0 3-1.34 3-3s-1.34-3-3-3-3 1.34-3 3c0 .24.04.47.09.7L8.04 9.81C7.5 9.31 6.79 9 6 9c-1.66 0-3 1.34-3 3s1.34 3 3 3c.79 0 1.5-.31 2.04-.81l7.12 4.16c-.05.21-.08.43-.08.65 0 1.61 1.31 2.92 2.92 2.92 1.61 0 2.92-1.31 2.92-2.92s-1.31-2.92-2.92-2.92z"/></svg>',Er='<svg xmlns="http://www.w3.org/2000/svg" height="24" viewBox="0 0 24 24" width="24"><path d="M0 0h24v24H0z" fill="none"/><path d="M3 17v2h6v-2H3zM3 5v2h10V5H3zm10 16v-2h8v-2h-8v-2h-2v6h2zM7 9v2H3v2h4v2h2V9H7zm14 4v-2H11v2h10zm-6-4h2V7h4V5h-4V3h-2v6z"/></svg>',kr='<svg xmlns="http://www.w3.org/2000/svg" enable-background="new 0 0 24 24" height="24" viewBox="0 0 24 24" width="24"><g><rect fill="none" height="24" width="24"/></g><g><g><path d="M20,17H4V5h8V3H4C2.89,3,2,3.89,2,5v12c0,1.1,0.89,2,2,2h4v2h8v-2h4c1.1,0,2-0.9,2-2v-3h-2V17z"/><polygon points="17,14 22,9 20.59,7.59 18,10.17 18,3 16,3 16,10.17 13.41,7.59 12,9"/></g></g></svg>',pt="monochromeSettings",mt="colorSettings",ze="color",De="monochrome",H="%",Kt="deg",pe="steps",Tt="pixels",dt="",Sr="segments",z={brightness:"brightness",contrast:"contrast",grayscale:"grayscale",hueRotate:"hue-rotate",invert:"invert",opacity:"opacity",saturate:"saturate",sepia:"sepia"},x={red:"red",green:"green",blue:"blue",alpha:"alpha"},ye={scale:"scale",rotation:"rotation"},E={minPathLength:"minPathSegments",strokeWidth:"strokeWidth",turdsize:"turdsize",alphamax:"alphamax",turnpolicy:"turnpolicy",opticurve:"opticurve",opttolerance:"opttolerance"},Jt={[z.brightness]:{unit:H,initial:100,min:0,max:200},[z.contrast]:{unit:H,initial:100,min:0,max:200},[z.grayscale]:{unit:H,initial:0,min:0,max:100},[z.hueRotate]:{unit:Kt,initial:0,min:0,max:360},[z.invert]:{unit:H,initial:0,min:0,max:100},[z.opacity]:{unit:H,initial:100,min:0,max:100},[z.saturate]:{unit:H,initial:100,min:0,max:200},[z.sepia]:{unit:H,initial:0,min:0,max:100}},xr={[x.red]:{unit:pe,initial:5,min:1,max:20},[x.green]:{unit:pe,initial:5,min:1,max:20},[x.blue]:{unit:pe,initial:5,min:1,max:20},[x.alpha]:{unit:pe,initial:1,min:1,max:10}},Pr={[ye.scale]:{unit:H,initial:100,min:1,max:200},[ye.rotation]:{unit:Kt,initial:0,min:0,max:360}},Cr={[E.turdsize]:{unit:Tt,initial:2,min:0,max:50},[E.strokeWidth]:{unit:Tt,initial:0,min:0,max:100},[E.minPathLength]:{unit:Sr,initial:0,min:0,max:30},[E.alphamax]:{unit:dt,initial:1,min:0,max:1.3334},[E.turnpolicy]:{unit:pe,initial:4,min:0,max:6},[E.opttolerance]:{unit:dt,initial:.2,min:0,max:1}},Or=[{name:"svgOptions",icon:gr},{name:"colorChannels",icon:pr},{name:"imageSizeAndRotation",icon:mr},{name:"imagePreprocessing",icon:fr}],ft=[Object.entries(Cr),Object.entries(xr),Object.entries(Pr),Object.entries(Jt)],v={},He={},j={},oe=(e,t)=>{const n=f.t(e);return` (${e?`${t}${n.length===1?n:` ${n}`}`:t})`},N=e=>{const t=document.createElement("span");return t.classList.add("icon"),t.innerHTML=e,t},Rr=(e,t)=>{const n=document.createElement("details");j[e]=n;const r=document.createElement("summary"),i=N(t);r.append(i);const l=document.createElement("span");return l.textContent=f.t(e),l.dataset.i18nKey=e,r.append(l),n.append(r),n},Tr=["alphamax","turnpolicy","optimize-curves","opttolerance","minPathSegments"],Ar=async(e,t,n)=>{const{unit:r,min:i,max:l,initial:c}=t,o=document.createElement("div");o.classList.add("preprocess-input"),Tr.includes(e)&&o.classList.add("advanced");const s=document.createElement("label"),a=document.createElement("span");a.textContent=f.t(e),a.dataset.i18nKey=e,s.append(a),s.htmlFor=e;const d=await Ue(),h=document.createElement("span");He[e]=h,h.textContent=oe(r,d[e]||c),h.dataset.dynamicI18nKey=r,h.dataset.dynamicValue=d[e]||c;const u=document.createElement("input");v[e]=u,u.id=e,u.type="range",u.class=e,r&&(u.dataset.unit=r),r===dt&&(u.step=.01),u.min=i,u.max=l,u.value=d[e]||c,u.addEventListener("input",()=>{h.textContent=oe(r,u.value),h.dataset.dynamicValue=u.value}),Object.keys(x).includes(e)?u.addEventListener("change",$e(async()=>{await K(u),await $()},250)):Object.keys(E).includes(e)?u.addEventListener("change",$e(async()=>{await K(u),await $()},250)):u.addEventListener("change",$e(async()=>{await K(u),await $()},250));const m=document.createElement("button");m.type="button",m.textContent=f.t("reset"),m.dataset.i18nKey="reset",m.addEventListener("click",async()=>{u.value=c,h.textContent=oe(r,c),h.dataset.dynamicValue=c,u.dispatchEvent(new Event("change"))}),s.append(h),o.append(s);const w=document.createElement("div");o.append(w),w.append(u),w.append(m),n.append(o)},Zt=()=>{const e=!A.checked;Object.keys(x).forEach(t=>{v[t].disabled=e})};A.addEventListener("change",async()=>{Zt(),await K(A),await $()});const gt=async()=>{const e=await Ue();A.checked=e[A.id]??A.defaultChecked,Zt(),V.checked=e[V.id]??V.defaultChecked,O.checked=e[O.id]??O.defaultChecked,Qt(),X.checked=e[X.id]??X.defaultChecked,tn(),ft.forEach(t=>{for(const[n,r]of t){const i=e[v[n].id]||r.initial;v[n].value=i,He[n].textContent=oe(r.unit,i)}})};k.addEventListener("change",async()=>{await W(k.id,k.checked),await W(I.id,I.checked),await gt(),await $()});I.addEventListener("change",async()=>{await W(k.id,k.checked),await W(I.id,I.checked),await gt(),await $()});V.addEventListener("change",async()=>{await K(V),await $()});const Qt=()=>{v.opttolerance.disabled=!O.checked};O.addEventListener("change",async()=>{Qt(),await K(O),await $()});fe.addEventListener("input",()=>{D.classList.toggle("debug",fe.checked)});const Ir=async()=>{await f.getTranslations(),en();const e=getComputedStyle(R).getPropertyValue("--mobile-breakpoint"),t=window.matchMedia(`(max-width: ${e})`),n=()=>{if(t.matches){ct.open=!1;return}ct.open=!0};n(),t.addEventListener("change",n),k.checked=await ie(k.id)??k.defaultChecked,I.checked=await ie(I.id)??I.defaultChecked,k.checked&&b.classList.add(ze),I.checked&&b.classList.add(De);const r=[];ft.forEach(async(c,o)=>{const{name:s,icon:a}=Or[o],d=Rr(s,a);wt.append(d),o<2&&(d.open=!0),s==="colorChannels"?j.colorChannels.append(A.parentNode):s==="svgOptions"?(j.svgOptions.append(k.parentNode),j.svgOptions.append(I.parentNode)):s==="imageSizeAndRotation"&&j.imageSizeAndRotation.append(V.parentNode);for(const[h,u]of c)r.push(Ar(h,u,d));Promise.all(r).then(async()=>{for(const[h]of c){if(h==="opttolerance"){const u=j.svgOptions.querySelector('[for="opttolerance"]').parentNode;j.svgOptions.insertBefore(O.parentNode,u)}if(s==="svgOptions"){const u=j.svgOptions.querySelector(".preprocess-input.advanced");j.svgOptions.insertBefore(X.parentNode,u)}}await gt()})}),wt.append(ut.parentNode),y.addEventListener("load",async()=>{y.width=y.naturalWidth,y.height=y.naturalHeight;const c=await Ue();if(y.src!==new URL("/favicon.png",location.href).toString()||Object.keys(c).length>1)setTimeout(async()=>{Nt(),await $()},100);else{const o=await fetch(`/potraced-${k.checked?"color":"monochrome"}.svg`).then(s=>s.text());b.innerHTML=o}}),y.complete&&y.dispatchEvent(new Event("load")),Ie.hidden=!1,new URL(location).searchParams.has("debug")&&(fe.checked=!0,fe.labels[0].hidden=!1,fe.dispatchEvent(new Event("input")));try{const c=await ie(ve);if(c&&await $r(c)){const o=await c.getFile(),s=URL.createObjectURL(o);y.src=s}}catch(c){console.error(c.name,c.message),await sr(ve)}},$r=async e=>{const t={mode:"read"};return await e.queryPermission(t)==="granted"||await e.requestPermission(t)==="granted"},en=()=>{vn.textContent=f.t("license"),yn.textContent=f.t("about"),ut.textContent=f.t("resetAll"),un.textContent=f.t("posterizeInputImage"),hn.textContent=f.t("colorSVG"),pn.textContent=f.t("monochromeSVG"),mn.textContent=f.t("considerDPR"),fn.textContent=f.t("opticurve"),gn.textContent=f.t("showAdvancedControls"),Pe.innerHTML="",Pe.append(N(vr));const e=document.createElement("span");e.textContent=f.t("openImage"),Pe.append(e),Ce.innerHTML="",Ce.append(N(yr));const t=document.createElement("span");t.textContent=f.t("saveSVG"),Ce.append(t),Re.innerHTML="",Re.append(N(Bt?_r:Lr));const n=document.createElement("span");n.textContent=f.t("shareSVG"),Re.append(n),Oe.innerHTML="",Oe.append(N(wr));const r=document.createElement("span");r.textContent=f.t("copySVG"),Oe.append(r),Te.innerHTML="",Te.append(N(br));const i=document.createElement("span");i.textContent=f.t("pasteImage"),Te.append(i),Ae.innerHTML="",Ae.append(N(kr));const l=document.createElement("span");l.textContent=f.t("install"),Ae.append(l),R.dataset.dropText=f.t("dropFileHere"),qe.innerHTML="",qe.append(N(Er)),qe.append(document.createTextNode(f.t("tweak"))),Dt.ariaLabel=f.t("closeOptions"),document.querySelectorAll("[data-i18n-key]").forEach(c=>{c.textContent=f.t(c.dataset.i18nKey)}),document.querySelectorAll("[data-dynamic-i18n-key]").forEach(c=>{c.textContent=oe(c.dataset.dynamicI18nKey,c.dataset.dynamicValue)}),Ve.innerHTML="",f.supportedLocales.sort().forEach(c=>{const[o,s]=c.split("-"),a=document.createElement("option");a.value=c,a.textContent=f.t(`${o}${s}`),o===f.currentLanguageAndLocale.language&&s===f.currentLanguageAndLocale.locale&&(a.selected=!0),Ve.append(a)})};Ve.addEventListener("change",async()=>{const[e,t]=Ve.value.split("-");try{await f.setLanguageAndLocale(e,t),en()}catch(n){console.error(n.name,n.message)}});ut.addEventListener("click",async()=>{const e=(t,n,r)=>{v[t].value=r,He[t].textContent=oe(n,r),He[t].dataset.dynamicValue=r};ft.forEach(t=>{for(const[n,r]of t)e(n,r.unit,r.initial)}),O.checked=O.defaultChecked,opttolerance.disabled=!O.defaultChecked,A.checked=A.defaultChecked,V.checked=V.defaultChecked,await Mr(),Nt(),await $()});let Ze=null;const T=(e,t=5e3)=>{if(ee.innerHTML=e,ee.hidden=!1,Ze&&clearTimeout(Ze),t!==1/0){Ze=setTimeout(()=>{ee.hidden=!0,ee.textContent=""},t);return}},jr=()=>{ee.hidden=!0,ee.textContent=""},tn=async()=>{await K(X),document.querySelectorAll(".advanced").forEach(e=>{X.checked?e.style.display="block":e.style.display="none"})};X.addEventListener("change",tn);R.style.setProperty("--100vh",`${window.innerHeight}px`);window.addEventListener("resize",$e(()=>{R.style.setProperty("--100vh",`${window.innerHeight}px`)},250));Dt.addEventListener("click",()=>{ct.open=!1});const Mr=async()=>{await W(k.checked?mt:pt,{})},Ue=async()=>{const e=k.checked?await ie(mt):await ie(pt);return e||{}},K=async e=>{const t=await Ue();t[e.id]=e.type==="range"?e.value:e.checked,await W(k.checked?mt:pt,t)};try{self["workbox:window:6.5.2"]&&_()}catch{}function At(e,t){return new Promise(function(n){var r=new MessageChannel;r.port1.onmessage=function(i){n(i.data)},e.postMessage(t,[r.port2])})}function Vr(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function It(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function zr(e,t){var n;if(typeof Symbol>"u"||e[Symbol.iterator]==null){if(Array.isArray(e)||(n=function(i,l){if(i){if(typeof i=="string")return It(i,l);var c=Object.prototype.toString.call(i).slice(8,-1);return c==="Object"&&i.constructor&&(c=i.constructor.name),c==="Map"||c==="Set"?Array.from(i):c==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(c)?It(i,l):void 0}}(e))||t&&e&&typeof e.length=="number"){n&&(e=n);var r=0;return function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}return(n=e[Symbol.iterator]()).next.bind(n)}try{self["workbox:core:6.5.2"]&&_()}catch{}var Qe=function(){var e=this;this.promise=new Promise(function(t,n){e.resolve=t,e.reject=n})};function et(e,t){var n=location.href;return new URL(e,n).href===new URL(t,n).href}var le=function(e,t){this.type=e,Object.assign(this,t)};function ke(e,t,n){return n?t?t(e):e:(e&&e.then||(e=Promise.resolve(e)),t?e.then(t):e)}function Dr(){}var Hr={type:"SKIP_WAITING"};function $t(e,t){if(!t)return e&&e.then?e.then(Dr):Promise.resolve()}var Nr=function(e){var t,n;function r(o,s){var a,d;return s===void 0&&(s={}),(a=e.call(this)||this).nn={},a.tn=0,a.rn=new Qe,a.en=new Qe,a.on=new Qe,a.un=0,a.an=new Set,a.cn=function(){var h=a.fn,u=h.installing;a.tn>0||!et(u.scriptURL,a.sn.toString())||performance.now()>a.un+6e4?(a.vn=u,h.removeEventListener("updatefound",a.cn)):(a.hn=u,a.an.add(u),a.rn.resolve(u)),++a.tn,u.addEventListener("statechange",a.ln)},a.ln=function(h){var u=a.fn,m=h.target,w=m.state,C=m===a.vn,q={sw:m,isExternal:C,originalEvent:h};!C&&a.mn&&(q.isUpdate=!0),a.dispatchEvent(new le(w,q)),w==="installed"?a.wn=self.setTimeout(function(){w==="installed"&&u.waiting===m&&a.dispatchEvent(new le("waiting",q))},200):w==="activating"&&(clearTimeout(a.wn),C||a.en.resolve(m))},a.dn=function(h){var u=a.hn,m=u!==navigator.serviceWorker.controller;a.dispatchEvent(new le("controlling",{isExternal:m,originalEvent:h,sw:u,isUpdate:a.mn})),m||a.on.resolve(u)},a.gn=(d=function(h){var u=h.data,m=h.ports,w=h.source;return ke(a.getSW(),function(){a.an.has(w)&&a.dispatchEvent(new le("message",{data:u,originalEvent:h,ports:m,sw:w}))})},function(){for(var h=[],u=0;u<arguments.length;u++)h[u]=arguments[u];try{return Promise.resolve(d.apply(this,h))}catch(m){return Promise.reject(m)}}),a.sn=o,a.nn=s,navigator.serviceWorker.addEventListener("message",a.gn),a}n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var i,l,c=r.prototype;return c.register=function(o){var s=(o===void 0?{}:o).immediate,a=s!==void 0&&s;try{var d=this;return function(h,u){var m=h();return m&&m.then?m.then(u):u(m)}(function(){if(!a&&document.readyState!=="complete")return $t(new Promise(function(h){return window.addEventListener("load",h)}))},function(){return d.mn=Boolean(navigator.serviceWorker.controller),d.yn=d.pn(),ke(d.bn(),function(h){d.fn=h,d.yn&&(d.hn=d.yn,d.en.resolve(d.yn),d.on.resolve(d.yn),d.yn.addEventListener("statechange",d.ln,{once:!0}));var u=d.fn.waiting;return u&&et(u.scriptURL,d.sn.toString())&&(d.hn=u,Promise.resolve().then(function(){d.dispatchEvent(new le("waiting",{sw:u,wasWaitingBeforeRegister:!0}))}).then(function(){})),d.hn&&(d.rn.resolve(d.hn),d.an.add(d.hn)),d.fn.addEventListener("updatefound",d.cn),navigator.serviceWorker.addEventListener("controllerchange",d.dn),d.fn})})}catch(h){return Promise.reject(h)}},c.update=function(){try{return this.fn?$t(this.fn.update()):void 0}catch(o){return Promise.reject(o)}},c.getSW=function(){return this.hn!==void 0?Promise.resolve(this.hn):this.rn.promise},c.messageSW=function(o){try{return ke(this.getSW(),function(s){return At(s,o)})}catch(s){return Promise.reject(s)}},c.messageSkipWaiting=function(){this.fn&&this.fn.waiting&&At(this.fn.waiting,Hr)},c.pn=function(){var o=navigator.serviceWorker.controller;return o&&et(o.scriptURL,this.sn.toString())?o:void 0},c.bn=function(){try{var o=this;return function(s,a){try{var d=s()}catch(h){return a(h)}return d&&d.then?d.then(void 0,a):d}(function(){return ke(navigator.serviceWorker.register(o.sn,o.nn),function(s){return o.un=performance.now(),s})},function(s){throw s})}catch(s){return Promise.reject(s)}},i=r,(l=[{key:"active",get:function(){return this.en.promise}},{key:"controlling",get:function(){return this.on.promise}}])&&Vr(i.prototype,l),r}(function(){function e(){this.Pn=new Map}var t=e.prototype;return t.addEventListener=function(n,r){this.Sn(n).add(r)},t.removeEventListener=function(n,r){this.Sn(n).delete(r)},t.dispatchEvent=function(n){n.target=this;for(var r,i=zr(this.Sn(n.type));!(r=i()).done;)(0,r.value)(n)},t.Sn=function(n){return this.Pn.has(n)||this.Pn.set(n,new Set),this.Pn.get(n)},e}());function Br(e={}){const{immediate:t=!1,onNeedRefresh:n,onOfflineReady:r,onRegistered:i,onRegisterError:l}=e;let c;const o=async(s=!0)=>{};return"serviceWorker"in navigator&&(c=new Nr("/sw.js",{scope:"/",type:"classic"}),c.addEventListener("activated",s=>{s.isUpdate?window.location.reload():r?.()}),c.register({immediate:t}).then(s=>{i?.(s)}).catch(s=>{l?.(s)})),o}// @license  2019 Google LLC. Licensed under the Apache License, Version 2.0.
const me=document,de=localStorage,Ne="prefers-color-scheme",Se="media",L="light",S="dark",jt=`(${Ne}:${S})`,Ur=`(${Ne}:${L})`,Mt="link[rel=stylesheet]",tt="remember",nt="legend",xe="toggle",Vt="switch",rt="appearance",it="permanent",ot="mode",ue="colorschemechange",at="permanentcolorscheme",zt="all",st="not all",g="dark-mode-toggle",re="https://googlechromelabs.github.io/dark-mode-toggle/demo/",Q=(e,t,n=t)=>{Object.defineProperty(e,n,{enumerable:!0,get(){const r=this.getAttribute(t);return r===null?"":r},set(r){this.setAttribute(t,r)}})},Wr=(e,t,n=t)=>{Object.defineProperty(e,n,{enumerable:!0,get(){return this.hasAttribute(t)},set(r){r?this.setAttribute(t,""):this.removeAttribute(t)}})},nn=me.createElement("template");nn.innerHTML=`<style>*,::after,::before{box-sizing:border-box}:host{contain:content;display:block}:host([hidden]){display:none}form{background-color:var(--${g}-background-color,transparent);color:var(--${g}-color,inherit);padding:0}fieldset{border:none;margin:0;padding-block:.25rem;padding-inline:.25rem}legend{font:var(--${g}-legend-font,inherit);padding:0}input,label{cursor:pointer}label{white-space:nowrap}input{opacity:0;position:absolute;pointer-events:none}input:focus-visible+label{outline:#e59700 auto 2px;outline:-webkit-focus-ring-color auto 5px}label:not(:empty)::before{margin-inline-end:.5rem;}label::before{content:"";display:inline-block;background-size:var(--${g}-icon-size,1rem);background-repeat:no-repeat;height:var(--${g}-icon-size,1rem);width:var(--${g}-icon-size,1rem);vertical-align:middle;}[part=lightLabel]::before{background-image:var(--${g}-light-icon, url("${re}sun.png"))}[part=darkLabel]::before{filter:var(--${g}-icon-filter, none);background-image:var(--${g}-dark-icon, url("${re}moon.png"))}[part=toggleLabel]::before{background-image:var(--${g}-checkbox-icon,none)}[part=permanentLabel]::before{background-image:var(--${g}-remember-icon-unchecked, url("${re}unchecked.svg"))}[part=darkLabel],[part=lightLabel],[part=toggleLabel]{font:var(--${g}-label-font,inherit)}[part=darkLabel]:empty,[part=lightLabel]:empty,[part=toggleLabel]:empty{font-size:0;padding:0}[part=permanentLabel]{font:var(--${g}-remember-font,inherit)}input:checked+[part=permanentLabel]::before{background-image:var(--${g}-remember-icon-checked, url("${re}checked.svg"))}input:checked+[part=darkLabel],input:checked+[part=lightLabel]{background-color:var(--${g}-active-mode-background-color,transparent)}input:checked+[part=darkLabel]::before,input:checked+[part=lightLabel]::before{background-color:var(--${g}-active-mode-background-color,transparent)}input:checked+[part=toggleLabel]::before{filter:var(--${g}-icon-filter, none)}input:checked+[part=toggleLabel]+aside [part=permanentLabel]::before{filter:var(--${g}-remember-filter, invert(100%))}aside{visibility:hidden;margin-block-start:.15rem}[part=darkLabel]:focus-visible~aside,[part=lightLabel]:focus-visible~aside,[part=toggleLabel]:focus-visible~aside{visibility:visible;transition:visibility 0s}aside [part=permanentLabel]:empty{display:none}@media (hover:hover){aside{transition:visibility 3s}aside:hover{visibility:visible}[part=darkLabel]:hover~aside,[part=lightLabel]:hover~aside,[part=toggleLabel]:hover~aside{visibility:visible;transition:visibility 0s}}</style><form part=form><fieldset part=fieldset><legend part=legend></legend><input part=lightRadio id=l name=mode type=radio><label part=lightLabel for=l></label><input part=darkRadio id=d name=mode type=radio><label part=darkLabel for=d></label><input part=toggleCheckbox id=t type=checkbox><label part=toggleLabel for=t></label><aside part=aside><input part=permanentCheckbox id=p type=checkbox><label part=permanentLabel for=p></label></aside></fieldset></form>`;class qr extends HTMLElement{static get observedAttributes(){return[ot,rt,it,nt,L,S,tt]}constructor(){super(),Q(this,ot),Q(this,rt),Q(this,nt),Q(this,L),Q(this,S),Q(this,tt),Wr(this,it),this.t=null,this.i=null,me.addEventListener(ue,t=>{this.mode=t.detail.colorScheme,this.o(),this.l()}),me.addEventListener(at,t=>{this.permanent=t.detail.permanent,this.h.checked=this.permanent}),this.p()}p(){const t=this.attachShadow({mode:"open"});t.appendChild(nn.content.cloneNode(!0)),this.t=me.querySelectorAll(`${Mt}[${Se}*=${Ne}][${Se}*="${S}"]`),this.i=me.querySelectorAll(`${Mt}[${Se}*=${Ne}][${Se}*="${L}"]`),this.g=t.querySelector("[part=lightRadio]"),this.m=t.querySelector("[part=lightLabel]"),this.u=t.querySelector("[part=darkRadio]"),this.k=t.querySelector("[part=darkLabel]"),this.v=t.querySelector("[part=toggleCheckbox]"),this.$=t.querySelector("[part=toggleLabel]"),this.L=t.querySelector("legend"),this.C=t.querySelector("aside"),this.h=t.querySelector("[part=permanentCheckbox]"),this.M=t.querySelector("[part=permanentLabel]")}connectedCallback(){const t=matchMedia(jt).media!==st;t&&matchMedia(jt).addListener(({matches:r})=>{this.permanent||(this.mode=r?S:L,this.R(ue,{colorScheme:this.mode}))});const n=de.getItem(g);n&&[S,L].includes(n)?(this.mode=n,this.h.checked=!0,this.permanent=!0):t&&(this.mode=matchMedia(Ur).matches?L:S),this.mode||(this.mode=L),this.permanent&&!n&&de.setItem(g,this.mode),this.appearance||(this.appearance=xe),this._(),this.o(),this.l(),[this.g,this.u].forEach(r=>{r.addEventListener("change",()=>{this.mode=this.g.checked?L:S,this.l(),this.R(ue,{colorScheme:this.mode})})}),this.v.addEventListener("change",()=>{this.mode=this.v.checked?S:L,this.o(),this.R(ue,{colorScheme:this.mode})}),this.h.addEventListener("change",()=>{this.permanent=this.h.checked,this.R(at,{permanent:this.permanent})}),this.A(),this.R(ue,{colorScheme:this.mode}),this.R(at,{permanent:this.permanent})}attributeChangedCallback(t,n,r){if(t===ot){if(![L,S].includes(r))throw new RangeError(`Allowed values: "${L}" and "${S}".`);matchMedia("(hover:none)").matches&&this.remember&&this.S(),this.permanent&&de.setItem(g,this.mode),this.o(),this.l(),this.A()}else if(t===rt){if(![xe,Vt].includes(r))throw new RangeError(`Allowed values: "${xe}" and "${Vt}".`);this._()}else t===it?(this.permanent?this.mode&&de.setItem(g,this.mode):de.removeItem(g),this.h.checked=this.permanent):t===nt?this.L.textContent=r:t===tt?this.M.textContent=r:t===L?(this.m.textContent=r,this.mode===L&&(this.$.textContent=r)):t===S&&(this.k.textContent=r,this.mode===S&&(this.$.textContent=r))}R(t,n){this.dispatchEvent(new CustomEvent(t,{bubbles:!0,composed:!0,detail:n}))}_(){const t=this.appearance===xe;this.g.hidden=t,this.m.hidden=t,this.u.hidden=t,this.k.hidden=t,this.v.hidden=!t,this.$.hidden=!t}o(){this.mode===L?this.g.checked=!0:this.u.checked=!0}l(){this.mode===L?(this.$.style.setProperty(`--${g}-checkbox-icon`,`var(--${g}-light-icon,url("${re}moon.png"))`),this.$.textContent=this.light,this.light||(this.$.ariaLabel=S),this.v.checked=!1):(this.$.style.setProperty(`--${g}-checkbox-icon`,`var(--${g}-dark-icon,url("${re}sun.png"))`),this.$.textContent=this.dark,this.dark||(this.$.ariaLabel=L),this.v.checked=!0)}A(){this.mode===L?(this.i.forEach(t=>{t.media=zt,t.disabled=!1}),this.t.forEach(t=>{t.media=st,t.disabled=!0})):(this.t.forEach(t=>{t.media=zt,t.disabled=!1}),this.i.forEach(t=>{t.media=st,t.disabled=!0}))}S(){this.C.style.visibility="visible",setTimeout(()=>{this.C.style.visibility="hidden"},3e3)}}customElements.define(g,qr);"launchQueue"in window&&p(()=>import("./filehandling.f52b3b17.js"),[]);"windowControlsOverlay"in navigator&&p(()=>import("./windowcontrols.1429de11.js"),[]);"onbeforeinstallprompt"in window&&"onappinstalled"in window?p(()=>import("./install.e1eab32a.js"),[]):Ae.style.display="none";"share"in navigator&&"canShare"in navigator?p(()=>import("./share.ae136633.js"),[]):Re.style.display="none";"serviceWorker"in navigator&&window.addEventListener("load",async()=>{if(await navigator.serviceWorker.register("./sharetargetsw.js",{scope:"/share-target/"}),location.search.includes("share-target")){const e=await caches.keys(),t=await caches.open(e.filter(r=>r.startsWith("media"))[0]),n=await t.match("shared-image");if(n){const r=await n.blob();await t.delete("shared-image");const i=URL.createObjectURL(r);y.addEventListener("load",()=>{URL.revokeObjectURL(i)},{once:!0}),y.src=i}}});const Fr=()=>{let e=!1;const t={get type(){e=!0}};try{new Worker("blob://",t)}finally{return e}},rn=()=>{const e=Ht.mode;R.style.setProperty("--color-scheme",e),wn.content=e==="dark"?"#131313":"#fff"};Ht.addEventListener("colorschemechange",rn);rn();(async()=>(Ir(),Fr()||await p(()=>import("./module-workers-polyfill.min.dc7647fd.js"),[]),Br({onOfflineReady(){T(f.t("readyToWorkOffline"))},onNeedRefresh(){location.reload()}})()))();location.href==="https://svgco.de/"&&p(()=>import("./collect.b78e0a70.js"),[]);export{ve as F,Yr as a,Ae as b,Re as c,$e as d,b as e,T as f,f as g,jr as h,y as i,cr as j,ie as k,R as l,Gr as m,Me as o,W as s};
